// Generated by CoffeeScript 1.9.3
(function() {
  var app, root;

  app = {};

  app.DictionaryView = Backbone.View.extend({
    tagName: "div",
    className: "ext-dictionary",
    initialize: function(data) {
      this.template = _.template($("#ext-dictionary-t").html());
      this.$el.html(this.template({
        data: data
      }));
      return this.styling();
    },
    styling: function() {
      return this.$('[data-toggle="popover"]').each(function() {
        var $popoverContent;
        $popoverContent = $(this).next().clone();
        $popoverContent.find("a").click(function() {
          return alert("fudge");
        });
        $(this).popover({
          content: $popoverContent
        });
        return $(this).next().remove();
      });
    }
  });

  app.AppView = Backbone.View.extend({
    el: "#ext-content",
    sampleUrls: [chrome.extension.getURL("contentScript/backbone/dictionary0.json"), chrome.extension.getURL("contentScript/backbone/dictionary1.json")],
    initialize: function() {
      this.$dictionaries = this.$("#ext-dictionaries");
      return this.render();
    },
    render: function() {
      return _.each(this.sampleUrls, (function(_this) {
        return function(url) {
          return $.getJSON(url, function(data) {
            var dictionaryView;
            dictionaryView = new app.DictionaryView(data);
            _this.$dictionaries.append(dictionaryView.$el);
            return _this.$('[data-toggle="popover"]').popover();
          });
        };
      })(this));
    }
  });

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  root.extBackboneApp = app;

}).call(this);
