// Generated by CoffeeScript 1.9.3
(function() {
  describe("FlashService", function() {
    var $rootScope, FlashService;
    FlashService = $rootScope = null;
    beforeEach(module("app"));
    beforeEach(inject(function(_FlashService_, _$rootScope_) {
      FlashService = _FlashService_;
      return $rootScope = _$rootScope_;
    }));
    describe(".getStatus", function() {
      return it("returns empty string initially", function() {
        return expect(FlashService.getStatus()).toBe("");
      });
    });
    describe(".getMessage", function() {
      return it("returns empty string initially", function() {
        return expect(FlashService.getMessage()).toBe("");
      });
    });
    return describe(".set", function() {
      it("needs to run .apply to set the value", function() {
        FlashService.set("You got it!", "success");
        expect(FlashService.getStatus()).toBe("");
        expect(FlashService.getMessage()).toBe("");
        FlashService.apply();
        expect(FlashService.getStatus()).toBe("success");
        expect(FlashService.getMessage()).toBe("You got it!");
        FlashService.apply();
        expect(FlashService.getStatus()).toBe("");
        return expect(FlashService.getMessage()).toBe("");
      });
      return it("route change triggers .apply", function() {
        FlashService.set("You got it!", "success");
        expect(FlashService.getStatus()).toBe("");
        expect(FlashService.getMessage()).toBe("");
        $rootScope.$broadcast("$routeChangeSuccess");
        expect(FlashService.getStatus()).toBe("success");
        expect(FlashService.getMessage()).toBe("You got it!");
        $rootScope.$broadcast("$routeChangeSuccess");
        expect(FlashService.getStatus()).toBe("");
        return expect(FlashService.getMessage()).toBe("");
      });
    });
  });

}).call(this);
