%h3 Listing Items

%table.table.table-striped
  %thead
    %tr
      %th Word
      %th Meaning
      %th Sentence
      %th Actions

  %tbody
    %tr{"ng-repeat" => "item in vm.items"}
      %td {{ item.word }}
      %td {{ item.meaning }}
      %td {{ item.sentence }}
      -# %td
      -#   %img{"ng-src" => "{{item.picture}}" }
      %td
        .btn-group
          %a.btn.btn-warning{"ng-click" => "vm.showForm(item)"}
            Edit
            %span.glyphicon.glyphicon-pencil
          %a.btn.btn-danger{"ng-click" => "vm.deleteItem(item)"}
            Delete
            %span.glyphicon.glyphicon-trash

%a.btn.btn-success{"ng-click" => "vm.showForm()"}
  %span.glyphicon.glyphicon-plus
  New item

%br
%br

.alert{"ng-if" => "vm.flash.getStatus()", "ng-class" => "'alert-' + vm.flash.getStatus()"}
  {{ vm.flash.getMessage() }}

.item-form{"ng-show" => "vm.formOn"}
  %form{name: "form", "ng-submit" => "vm.submit()", novalidate: true}
    %input.hide{"ng-model" => "vm.itemForm.id"}
    %input.hide{"ng-model" => "vm.itemForm.category.id"}
    .form-group
      %label Word
      %input.form-control{"ng-model" => "vm.itemForm.word", required: true}
   
    .form-group
      %label Sentence
      %input.form-control{"ng-model" => "vm.itemForm.sentence"}

    .form-group
      %label Meaning
      %input.form-control{"ng-model" => "vm.itemForm.meaning"}

    .form-group
      %label Picture
      %input#choose-file{type: "file", "my-file-upload" => "vm.itemForm.picture",
                         required: true}
   
    .form-actions
      %button.btn.btn-primary{type: "submit", "ng-disabled"=> "form.$invalid || vm.dataLoading"}
        Submit
      %i.fa.fa-spinner.fa-spin{"ng-if" => "vm.dataLoading"}
